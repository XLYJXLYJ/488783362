webpackJsonp([18],{"8jdM":function(e,a){},"aq/h":function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={data:function(){return{labelPosition:"right",imageUrl:"static/localpic.png",imageUrl01:"",userpic:"",localpic:"",formLabelAlign:{name:"",sex:"",age:"",name01:""},rules:{age:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}]}}},mounted:function(){this.loadmessage()},methods:{loadmessage:function(){var e=this;this.axios.post("/res/userinfo",{userid:sessionStorage.userid,getinfostate:1}).then(function(a){e.formLabelAlign.name=e.$store.state.usernamesession02,e.formLabelAlign.age=a.data.data.age,e.formLabelAlign.sex=a.data.data.sex,e.formLabelAlign.name01=a.data.data.realname,e.imageUrl01=a.data.data.imgBuffer,console.log(e.imageUrl01),1===e.formLabelAlign.sex?e.formLabelAlign.sex="男":e.formLabelAlign.sex="女","null"==e.formLabelAlign.age?e.formLabelAlign.age="":e.formLabelAlign.age=e.formLabelAlign.age,"null"==e.formLabelAlign.name01?e.formLabelAlign.name01="":e.formLabelAlign.age=e.formLabelAlign.age,e.imageUrl01.length?(e.localpic=!1,e.userpic=!0):(e.localpic=!0,e.userpic=!1)}).catch(function(e){console.log(e)})},uploadmessage:function(){if(/^(男|女)$/.test(this.formLabelAlign.sex))if(/^[0-9]\w{1,3}$/.test(this.formLabelAlign.age)){var e=this.$refs.file_el.files[0],a=new FormData;a.append("userid",sessionStorage.userid),a.append("state",1),a.append("age",this.formLabelAlign.age),a.append("sex","男"===this.formLabelAlign.sex?1:2),a.append("realname",this.formLabelAlign.name01),a.append("files",e);this.axios.post("/res/userinfo",a,{headers:{"Content-Type":"application/x-jpg"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),this.$message({message:"上传成功",center:!0})}else this.$message({message:"年龄必须是数字",center:!0});else this.$message({message:"性别必须是男或者女",center:!0})},choise_file:function(){this.imageUrl01="",this.userpic=!1,this.localpic=!0;var e=this.$refs.file_el.files[0],a=new FileReader;a.readAsDataURL(e);var s=this;a.onload=function(){s.imageUrl=this.result}}}},l={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"container33"},[s("div",{staticClass:"userpic"},[s("input",{ref:"file_el",attrs:{type:"file"},on:{change:e.choise_file}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.userpic,expression:"userpic"}],staticClass:"userpiv"},[s("img",{attrs:{src:"data:image/png;base64,"+e.imageUrl01}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.localpic,expression:"localpic"}],staticClass:"userpiv"},[s("img",{attrs:{src:e.imageUrl}})]),e._v(" "),s("div",{staticClass:"two_text"},[s("p",[e._v(e._s(e.$store.state.usernamesession02))])]),e._v(" "),s("el-form",{staticClass:"usercenter",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.formLabelAlign,rules:e.rules}},[s("el-form-item",{attrs:{label:"名称"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formLabelAlign.name,expression:"formLabelAlign.name"}],staticClass:"input01",domProps:{value:e.formLabelAlign.name},on:{input:function(a){a.target.composing||e.$set(e.formLabelAlign,"name",a.target.value)}}})]),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formLabelAlign.sex,expression:"formLabelAlign.sex"}],staticClass:"input01",domProps:{value:e.formLabelAlign.sex},on:{input:function(a){a.target.composing||e.$set(e.formLabelAlign,"sex",a.target.value)}}})]),e._v(" "),s("el-form-item",{attrs:{label:"年龄"}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.formLabelAlign.age,expression:"formLabelAlign.age",modifiers:{number:!0}}],staticClass:"input01",domProps:{value:e.formLabelAlign.age},on:{input:function(a){a.target.composing||e.$set(e.formLabelAlign,"age",e._n(a.target.value))},blur:function(a){e.$forceUpdate()}}})]),e._v(" "),s("el-form-item",{attrs:{label:"真实姓名"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formLabelAlign.name01,expression:"formLabelAlign.name01"}],staticClass:"input01",domProps:{value:e.formLabelAlign.name01},on:{input:function(a){a.target.composing||e.$set(e.formLabelAlign,"name01",a.target.value)}}})]),e._v(" "),s("el-button",{staticClass:"save",on:{click:e.uploadmessage}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var t=s("Z0/y")(i,l,!1,function(e){s("8jdM")},"data-v-7af78a63",null);a.default=t.exports}});
//# sourceMappingURL=18.626f3c9db4bba8bc53b4.js.map